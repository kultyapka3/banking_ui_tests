{"uid":"fcd925ce2b4e3d8a","name":"ТС05: Удаление сущности (DELETE /api/delete/{id})","fullName":"api.tests.test_delete_entity#test_delete_entity_success","historyId":"6eaed8829c328c259372c111f30a7e2f","time":{"start":1762871669083,"stop":1762871669118,"duration":35},"description":"\nТест проверяет возможность удаления существующей сущности через эндпоинт DELETE /api/delete/{id}\n- Создаётся тестовая сущность\n- Проверяется её существование через GET /api/get/{id}\n- Отправляется DELETE-запрос на /api/delete/{id}\n- Отправляется GET-запрос на /api/get/{id}\n- Проверяется, что запрос завершается с ошибкой (500)\n","descriptionHtml":"<p>Тест проверяет возможность удаления существующей сущности через эндпоинт DELETE /api/delete/{id}</p>\n<ul>\n<li>Создаётся тестовая сущность</li>\n<li>Проверяется её существование через GET /api/get/{id}</li>\n<li>Отправляется DELETE-запрос на /api/delete/{id}</li>\n<li>Отправляется GET-запрос на /api/get/{id}</li>\n<li>Проверяется, что запрос завершается с ошибкой (500)</li>\n</ul>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"entity_service","time":{"start":1762871669079,"stop":1762871669081,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cleanup_entity","time":{"start":1762871669081,"stop":1762871669081,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\nТест проверяет возможность удаления существующей сущности через эндпоинт DELETE /api/delete/{id}\n- Создаётся тестовая сущность\n- Проверяется её существование через GET /api/get/{id}\n- Отправляется DELETE-запрос на /api/delete/{id}\n- Отправляется GET-запрос на /api/get/{id}\n- Проверяется, что запрос завершается с ошибкой (500)\n","status":"passed","steps":[{"name":"Создание сущности","time":{"start":1762871669084,"stop":1762871669105,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"entity_data","value":"EntityRequest(addition=None, important_numbers=[], title='delete entity', verified=False)"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получение сущности с ID \"'4'\"","time":{"start":1762871669105,"stop":1762871669111,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"entity_id","value":"'4'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Удаление сущности с ID \"'4'\"","time":{"start":1762871669111,"stop":1762871669113,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"entity_id","value":"'4'"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Получение сущности с ID \"'4'\"","time":{"start":1762871669114,"stop":1762871669116,"duration":2},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://localhost:8080/api/get/4\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.9/x64/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/banking_ui_tests/banking_ui_tests/api/services/entity_service.py\", line 32, in get_entity\n    response = self.get(data_api.GET_ENDPOINT.format(id=entity_id))\n  File \"/home/runner/work/banking_ui_tests/banking_ui_tests/api/services/base_api.py\", line 26, in get\n    return self._request('GET', endpoint, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/banking_ui_tests/banking_ui_tests/api/services/base_api.py\", line 19, in _request\n    response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.9/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[{"name":"entity_id","value":"'4'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"6c227fe131095d58","name":"log","source":"6c227fe131095d58.txt","type":"text/plain","size":2676},{"uid":"c08ca78543c05497","name":"stdout","source":"c08ca78543c05497.txt","type":"text/plain","size":141},{"uid":"d0207c9cb79c6691","name":"stderr","source":"d0207c9cb79c6691.txt","type":"text/plain","size":2697}],"parameters":[],"stepsCount":4,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"cleanup_entity::0","time":{"start":1762871669118,"stop":1762871669123,"duration":5},"status":"passed","steps":[{"name":"Удаление сущности с ID \"'4'\"","time":{"start":1762871669119,"stop":1762871669121,"duration":2},"status":"broken","statusMessage":"requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://localhost:8080/api/delete/4\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.13.9/x64/lib/python3.13/site-packages/allure_commons/_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"/home/runner/work/banking_ui_tests/banking_ui_tests/api/services/entity_service.py\", line 74, in delete_entity\n    self.delete(data_api.DELETE_ENDPOINT.format(id=entity_id))\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/banking_ui_tests/banking_ui_tests/api/services/base_api.py\", line 41, in delete\n    return self._request('DELETE', endpoint, **kwargs)\n           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/banking_ui_tests/banking_ui_tests/api/services/base_api.py\", line 19, in _request\n    response.raise_for_status()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/hostedtoolcache/Python/3.13.9/x64/lib/python3.13/site-packages/requests/models.py\", line 1026, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\n","steps":[],"attachments":[],"parameters":[{"name":"entity_id","value":"'4'"}],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"entity_service::0","time":{"start":1762871669124,"stop":1762871669124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Delete Entity"},{"name":"feature","value":"API Entity Management"},{"name":"parentSuite","value":"API Тесты"},{"name":"suite","value":"Positive Tests"},{"name":"tag","value":"high"},{"name":"tag","value":"api"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"5428-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.tests.test_delete_entity"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["high","api"]},"source":"fcd925ce2b4e3d8a.json","parameterValues":[]}